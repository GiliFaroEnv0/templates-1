version: 1

deploy:
  steps:
    terraformPlan:
      before:
        - wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
        - | 
          export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
          [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" && nvm use 16
        - node --version
        - npm --version
        - yarn --version
        - git --version
        - python2 --version
        - python3 --version
        - pip2 --version
        - pip3 --version
        - aws --version
        - gcloud --version
        - az --version
        - kubectl version --client
        - tfenv --version
        - terraform --version
        - jq --version
        - pwsh -v
